<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=.5, user-scalable=no">
	<title>Cytus II Charts Statistics</title>
	<link href="analyze.css" rel="stylesheet">
	<!--BOOTSTRAP-->
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
	<!--VUE-->
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body class='bg-dark text-light'>
	<div id="main" class="container-fluid px-0">
		<table id="chart-table" class="table table-dark table-striped table-hover table-bordered table-fix-head mb-5">
			<thead class="thead-light text-center align-middle">
				<tr>
					<th v-for="col in cols"
						:rowspan="(col.type === 'fixed' || col.type === 'sort') ? 2 : 1"
						:colspan="(col.type === 'category' ? col.item.length : (col.type === 'minmax' ? 2 : 1))"
						:class="(col.class || '') +
							(col.type === 'sort' || col.type === 'minmax' ? ' sort-head' : '') +
							(curSort.col === col ? ' bg-dark text-white' : '')"
						@click="sort(col)"
					>{{ col.name }}
						<template v-if="(col.type === 'sort' || col.type === 'minmax')">
							<span v-if="curSort.col !== col">⥮</span>
							<span v-else-if="curSort.inc">↑</span>
							<span v-else>↓</span>
						</template>
					</th>
				</tr>
				<tr>
					<template v-for="col in cols">
						<template v-if="col.type === 'category'">
							<th v-for="item in col.item"
								:class="'sort-head' + (curSort.col === item ? ' bg-dark text-white' : '')"
								@click="sort(item)"
							>
								{{ item.name }}
								<template v-if="item.type === 'sort'">
									<span v-if="curSort.col !== item">⥮</span>
									<span v-else-if="curSort.inc">↑</span>
									<span v-else>↓</span>
								</template>
							</th>
						</template>
						<template v-else-if="col.type === 'minmax'">
							<th
								class="sort-Head"
								:class="'sort-head' + (curSort.col === col &&  curSort.inc ? ' bg-dark text-white' : '')"
								@click="sort(col, true)"
							>
								Min
							</th>
							<th
								class="sort-Head"
								:class="'sort-head' + (curSort.col === col && !curSort.inc ? ' bg-dark text-white' : '')"
								@click="sort(col, false)"
							>
								Max
							</th>
						</template>
					</template>
				</tr>
			</thead>
			<tbody class="mt-3 text-center">
				<tr v-for="chart in chartsDisp">
					<template v-for="col in cols">
						<template v-if="col.name === 'Character'">
							<td :class="col.class2" :style="`background-color: #${chart.char.color};`">
								{{ col.value(chart) }}
							</td>
						</template>
						<template v-else-if="col.name === 'DIFF' || col.name === 'Lv'">
							<td :class="(col.class2 || '') + ' border-0 ' + chart.diff.name">
								{{ col.value ? col.value(chart) : col.key(chart) }}
							</td>
						</template>
						<template v-else-if="col.type === 'fixed' || col.type === 'sort'">
							<td :class="(col.class2 || '') + (curSort.col === col ? ' text-warning' : '')">
								{{ col.value ? col.value(chart) : col.key(chart) }}
							</td>
						</template>
						<template v-else-if="col.type === 'category'">
							<td v-for="item in col.item" :class="{ 'text-warning': curSort.col === item }">
								{{ item.value ? item.value(chart) : item.key(chart) }}
							</td>
						</template>
						<template v-else-if="col.type === 'minmax'">
							<td :class="{ dim: curSort.col === col && !curSort.inc,
								'text-warning': curSort.col === col && curSort.inc }">
								{{ col.value ? col.value(chart, true ) : col.key(chart, true ) }}
							</td>
							<td :class="{ dim: curSort.col === col &&  curSort.inc,
								'text-warning': curSort.col === col && !curSort.inc }">
								{{ col.value ? col.value(chart, false) : col.key(chart, false) }}
							</td>
						</template>
					</template>
				</tr>
			</tbody>
		</table>
	</div>
	<div id="bottom" class="text-center fixed-bottom py-2">
		<span>回報錯誤與建議 Report issues and suggestions: 
			<a href="https://github.com/DeemoHarlos/c2charts/issues/new">GitHub</a> | 
			<a href="https://www.messenger.com/t/deemoharlos">Messenger</a>
		</span><br>Made by Deemo Harlos - 
			<a href="https://www.facebook.com/deemoharlos.music">Facebook</a> | 
			<a href="https://www.youtube.com/c/DeemoHarlos">YouTube</a> | 
			<a href="https://www.instagram.com/deemo_harlos/">Instagram</a> | 
			<a href="https://twitter.com/deemo_harlos">Twitter</a> | 
			<a href="https://github.com/DeemoHarlos">Github</a> | 
			<a href="https://musescore.com/deemo_harlos">Musescore</a>
			<a href="https://www.patreon.com/DeemoHarlos">Patreon</a>
		</span>
	</div>
	<a href="index.html" id="index"
		class="position-fixed text-center btn btn-primary p-4 stretched-link text-white">
		譜面列表<br>Charts List
	</a>
	<div id="alert" class="alert alert-info position-fixed p-5"
		:class="{ 'd-none': width > 800 }"
	>
		<span>強烈建議使用電腦。<br>It is highly recommended to view on PC.</span>
		<button type="button" class="close position-absolute" data-dismiss="alert" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
	<script src="analyze.js" type="text/javascript"></script>
</body>
</html>